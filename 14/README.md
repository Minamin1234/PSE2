# (F) 見下ろし型シューティングゲーム
## 遊び方
- 内容
    - 武器を持ったプレイヤーを操作して敵を撃破していくゲーム．

- ルール
    - マップ内全ての敵を撃破するとゲームクリア。被弾によりプレイヤーのHPが0%になるとゲームオーバー．

- 操作方法
    - 実行直後
        - 任意のプレイヤー名を入力後Enterキーでスタート．
    - ゲーム中
        - Escキー: 一時停止(Pause)
        - 移動 (一般的なFPSゲームの操作方法に準拠する)
            - Wキー or ↑キー: 前進
            - Sキー or ↓キー: 後進
            - Aキー or ←キー: 左移動
            - Dキー or →キー: 右移動
        - 武器
            - マウス左クリック: 発砲
            - R:　リロード(弾薬装填)
            - 1~3キー: 武器切り替え
                - 1キー: ハンドガン
                - 2キー: ショットガン
                - 3キー: サブマシンガン(SMG)

## プログラム内で作成しているクラスの説明
- Util
    - ゲーム内のダメージ計算等の静的関数をまとめたクラス
- ColorRGB
    - カラーを表すクラス
    - RGB値それぞれ255までの整数の3要素を格納する事ができる
- Vector2
    - 2次元ベクトルを表すクラス
    - xとyの2要素を持ち、ベクトルに関する計算の静的関数をまとめている
- ScoreData
    - プレイヤーのスコアデータを格納するクラス
- Totalizer
    - 過去にプレイしたスコアデータを読み込み/集計し、集計したスコア一覧を再度テキストファイルとして保存する機能をもつ
    - 読み込んだスコアデータは変数に一時的に保持される
- World
    - ゲーム内のオブジェクトを配置、管理するクラス
    - Pawnクラス/Pawnクラスを継承したクラスであればどのクラスでも配置が可能
    - 配置されたオブジェクトはすべて描画処理や更新処理等が一括で行われる
- UI
    - プレイヤー画面に表示するUI(UserInterface)の基底クラス
- UIElement
    - UI内に配置する要素の基底クラス
    - 配置する位置や描画する処理を定義している
- UIText(UIElement)
    - UI内に表示するテキスト要素
    - UIElementクラスを継承している
- UITextBox(UIElement)
    - UI内に表示する文字入力が可能なテキストボックス要素クラス
    - UIElementクラスを継承している
- UIProgressBar(UIElement)
    - UI内に表示する進捗バー要素クラス
    - 進捗や全体量に対する割合を表す事ができる
    - UIElementクラスを継承している
- UIHPBar(UIProgressBar)
    - UI内に表示するHPバー要素クラス
    - 進捗バーとテキストを組み合わせたもの
    - 本ゲームではプレイヤーのHPとして用いられている
    - UIProgressBarクラスを継承している
- UIBulletGauge(UIProgressBar)
    - UI内に表示する残弾数ゲージ要素クラス
    - 本ゲームでは使用している武器の残弾数を表すものとして用いられている
    - UIProgressBarクラスを継承している
- PlayerNameUI(UI)
    - 起動直後のプレイヤー名を入力する画面のUIクラス
    - この画面でプレイヤー名を入力させる
    - UIクラスを継承している
- MenuUI(UI)
    - ゲーム中の一時停止した際に表示する画面UIクラス
    - UIクラスを継承している
- PlayerUI(UI)
    - ゲーム中にプレイヤー画面に表示されるUIクラス
    - HPや残弾数ゲージ,現在のスコアが表示される
    - UIクラスを継承している
- ResultUI(UI)
    - ゲーム終了時にプレイヤー画面に表示されるUIクラス
    - ゲーム終了の旨のテキストとスコア、順位等が表示される
    - UIクラスを継承している
- Pawn(Actor)
    - Worldクラスに配置可能なゲーム内オブジェクト基底クラス
    - このクラスを継承しているクラスであればWorldクラスに配置が可能である
    - Actorクラスを継承している
- Bullet(Pawn)
    - 武器から発射される弾(飛翔体)クラス
    - 見た目(画像)や飛翔方向、速度/ダメージ等の定義を持つ
    - Pawnクラスを継承している
- ShotShell(Bullet)
    - ショットガンから発射される弾のクラス
    - ダメージや弾速のパラメータが変更されている
    - 跳弾する性質を持つ
    - Bulletクラスを継承している
- SMGShell(Bullet)
    - サブマシンガン(SMG)から発射される弾のクラス
    - ダメージや弾速のパラメータが変更されている
    - 跳弾が無効化されている
    - Bulletクラスを継承している
- CharacterSkins
    - キャラクターの見た目(画像)をそれぞれの状態毎に画像ファイル名をまとめたクラス
    - 武器を構えた状態/装填中/持っている武器等に応じた画像ファイル名をまとめている
    - キャラクターに応じて画像を変更する事ができる
- PlayerSkins(CharacterSkins)
    - プレイヤーの見た目(画像)をまとめたクラス
    - 青い人物の画像素材をテーマにそれぞれの状態に応じた画像ファイルをまとめている
    - CharacterSkinsクラスを継承している
- EnemySkins(CharacterSkins)
    - 敵の見た目(画像をまとめたクラス)
    - 黄色い人物の画像素材をテーマにしている
    - CharacterSkinsクラスを継承している
- Weapon
    - キャラクターが使用可能な武器クラス(基底クラス)
    - Bulletを発射する機能や弾数のパラメータ等を持つ
    - 命中精度や発射速度の変更が可能
    - 発砲音や装填音等を武器の種類ごとに継承して変更する事ができる
- HandGun(Weapon)
    - ハンドガンクラス
    - 単発発射が可能な武器
    - 命中精度高め
    - Weaponクラスを継承している
- SMG(Weapon)
    - サブマシンガンクラス
    - マウスボタンを押下している間、連続で発砲される武器
    - 命中精度は低め
    - Weaponクラスを継承している
- ShotGun(Weapon)
    - ショットガンクラス
    - 一度の発砲で複数弾発射が可能な武器
    - 複数の弾が拡散して飛翔するが、拡散のバランスは不均一(命中精度に依存)
    - 一発あたりのダメージは低いものの、複数弾の命中によって大ダメージが期待できる
    - Weaponクラスを継承している
- StaticObject(Pawn)
    - Worldに配置可能なオブジェクト
    - 移動やプレイヤーによる操作は不可の静的なクラス
    - Pawnクラスを継承している
- Ground(StaticObject)
    - マップに配置する地面クラス
    - マップ生成時に一番最初に描画される
    - StaticObjectクラスを継承している
- WallStyle
    - 壁/障害物の用いる画像ファイル名を種類毎にまとめたクラス
- WallStyleOrange(WallStyle)
    - オレンジ色をテーマにした壁/障害物の画像ファイル名一式
    - WallStyleクラスを継承している
- WallStyleWood(WallStyle)
    - 木目調をテーマにした壁/障害物の画像ファイル名一式
    - WallStyleクラスを継承している
- Wall(StaticObject)
    - マップに配置する壁/障害物クラス
    - Pawnクラスを継承したクラスは移動を妨げる
    - マップ生成時にGroundクラスの次に描画される(地面の上に配置する為)
    - StaticObjectクラスを継承している
- Character(Pawn)
    - ゲーム内のキャラクタークラス(基底クラス)
    - プレイヤーによる操作が可能で、移動や武器の使用が可能である
    - Pawnクラスを継承している
- Player(Character)
    - プレイヤーが操作するキャラクタークラス
    - 画面中央に常時配置され、プレイヤー以外のオブジェクトが移動する
    - 使用する武器やHP等のパラメータを持つ
    - Characterクラスを継承している
- Enemy(Character)
    - プレイヤー以外の敵キャラクタークラス
    - 指定した半径内にPlayerが侵入すると自動的に攻撃を行う
    - Characterクラスを継承している
- Map
    - Worldクラスに生成するマップクラス
    - GroundやWallを配置する事ができ、これに配置したオブジェクトはWorld内のキャラクター等のオブジェクトよりも優先的に描画/更新処理が行われる。
    - プレイヤー移動に応じて配置しているオブジェクトを一括で移動させる
- Game
    - ゲームの初期化/進行/管理を管理するクラス

## 工夫した点・評価してもらいたい点
- マップの移動は画面内だけ済ませるのではなく画面外まで拡張する事により，ゲーム性を向上させた点．
- 2次元配列を用意してオブジェクトの種類を表す定数やインデックスを代入する事により，マップ配置を容易にした点．
- WorldクラスやMapクラスを用意して，描画順を考慮した点．
- ゲームに必要な機能をクラスとして個々に定義し，共通的な性質や処理を持つ機能については継承を用いて，同じような処理を省略した点．
- 武器について，発射された弾は直進するのではなく指定した命中精度で飛翔させるようにした点．
- 画面に表示しているUIについて，配置位置は画面サイズに対する割合によって位置を求めて配置している点．(ある程度の画面サイズ変更ではUI要素が隠れない)
- 過去にプレイしたスコアデータのテキストファイルを読み込み，プレイ後にスコアデータを追加し更新するようにした点．

## 基にしたプログラム・参考にしたプログラムとその利用方法
- Python公式ドキュメント
    - 構文やキーワードの使い方を参照した．
- Pygame Zero公式ドキュメント
    - 図形の描画方法等を参照した．
- Pygame公式ドキュメント
    - Soundの取り扱い方法や図形の描画方法等を参照した．(特に，Pygame Zeroよりも深い内容のもの)

## 画像や音のファイルの入手方法・作成方法
- 銃声/リロード音/キル時・ゲーム終了時の音素材
    - サイト「効果音ラボ」の「戦闘[2]」カテゴリーから入手
        - [効果音ラボ](https://soundeffect-lab.info/sound/battle/battle2.html)
- プレイヤーや敵/マップと障害物等の画像
    - パブリックドメインのゲーム素材提供サイト「KENNY」より入手
        - [KENNY](https://kenney.nl/assets/topdown-shooter)
